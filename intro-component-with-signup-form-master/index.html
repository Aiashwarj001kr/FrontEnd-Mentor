<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <title>Frontend Mentor | Intro component with sign up form</title>

  </style>
</head>

<body>
  <div class="content">
    <div class="intro-section">
      <h1 class="content_left_title">Learn to code by watching others</h1>
      <p class="content_left_text">See how experienced developers solve problems in real-time.
        Watching scripted tutorials great, but understanding how delevelopers think is invaluable</p>
    </div>

    <div class="form-section">
      <button><strong>Try it free 7 days</strong> then $20/mo. thereafter</button>
      
      <form class="form">
        
        <div class="form-controls">
          <input placeholder="First Name" type="text" required maxlength="20" id="firstname" autocomplete="off"/>
          <img src="./images/icon-error.svg"/>
          <small></small>
        </div>
        
        <div class="form-controls">
          <input placeholder="Last Name" type="text" required id="lastname" autocomplete="off"/>
          <img src="./images/icon-error.svg"/>
          <small></small>
          
        </div>
        
        <div class="form-controls">
          <input placeholder="Email Address" type="email" required id="email" autocomplete="off"/>
          <img src="./images/icon-error.svg"/>
          <small></small>
        </div>
        
        <div class="form-controls">
          <input placeholder="Password" type="password" required minlength="5" id="password"/>
          <img src="./images/icon-error.svg"/>
          <small></small>
        </div>
        
        <button id="btn-submit">CLAIM YOUR FREE TRIAL</button>
        <p>By clicking the button, you are agreeing to our <a href="#">Terms and Services</a></p>
      
      </form>
    </div>
  </div>
  
  <script>
    const firstname = document.getElementById("firstname");
    const lastname = document.getElementById("lastname");
    const email = document.getElementById("email");
    const password = document.getElementById("password");
    const submitBtn = document.getElementById("btn-submit");

    function checkRequired(input) {
      if (input.value.trim() == '')
        setError(input,`* ${input.placeholder} required`);
      else
        setSuccess(input);
    }

    function setError(input,message) {
	    const formControl = input.parentElement;
	    const small = formControl.querySelector("small");
	    small.innerText = message;
	    formControl.className = "form-controls error";
    }

    function setSuccess(input){
	    const formControl = input.parentElement;
	    formControl.className = "form-controls success";
    }

    function isEmail(email){
	    return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(email);
    }

    firstname.addEventListener("input", ()=>{
      checkRequired(firstname);
    });

    lastname.addEventListener("input", ()=>{
      checkRequired(lastname);
    });

    email.addEventListener("input", ()=>{
      const emailValue = email.value.trim();
      if(emailValue == ''){
        setError(email,"* Email required");
      }else if(!isEmail(emailValue)) {
        setError(email,"* Invalid Email");
      } else {
        setSuccess(email);
      }
    });

    password.addEventListener("input", ()=>{
      checkRequired(password);
    });

    submitBtn.addEventListener("click", (e) => {
      e.preventDefault();
    
      checkRequired(firstname);
      checkRequired(lastname);
      checkRequired(email);
      checkRequired(password);
    });
  </script>
</body>
<footer>
  <p class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="#">Aiashwarj kr surin</a>.
  </p>
</footer>
</html>
